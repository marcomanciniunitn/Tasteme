'''
Script used to retrieve the frequencies in the pickle file generated by the majority model. The frequencies are then stored in text-format 
in another file, which will be used for frequency analysis.
'''
import os 
import pickle
import argparse 


parser = argparse.ArgumentParser()
parser.add_argument('--from_file', type=str, default='frequencies.pickle')
parser.add_argument('--to', type=str, default="freq.count")
args = parser.parse_args()


with open(args.from_file, 'rb') as handler:
	freq = pickle.load(handler)
	print("--Frequencies loaded!")


out = open(args.to, "w")
for x in freq:
	out.write(str(x) + " " + str(freq[x]) + "\n")
out.close()


print("--Normalized frequencies written in " + args.to)
print("--Counters for frequencies written in counters")

